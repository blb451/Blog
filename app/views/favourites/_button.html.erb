<% if user_signed_in? && can?(:favourite, @post) %>
  <% if @favourite&.persisted? %>
    <%= link_to post_favourite_path(@post, @favourite),
    remote: true,
    method: :delete do %>
    <i class="fa fa-bookmark" aria-hidden="true"></i>
    <% end %>

  <% else %>
    <%= link_to post_favourites_path(@post),
    remote: true,
    method: :post do %>
    <i class="fa fa-bookmark-o" aria-hidden="true"></i>
    <% end %>
  <% end %>
<% end %>
